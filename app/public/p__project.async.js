(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{FGPR:function(e,a,t){"use strict";t.r(a);t("tQxi");var c=t("noUP"),r=(t("Zt22"),t("NrsS")),n=(t("R8OK"),t("D6w9")),i=t("mK77"),o=t.n(i),l=(t("D3Ud"),t("3sgo")),p=t("cO38"),s=t.n(p),d=t("BG4o"),m=t.n(d),u=(t("yZHV"),t("8vws")),y=(t("TQVM"),t("t+dq")),h=t("2w0b"),f=t.n(h),g=t("svyS"),w=t("sPsD"),j=t("rA3V"),E=t.n(j),b=t("KsLS"),v=t.n(b),O=t("/L9x");function P(e){var a=Object(g["d"])(),t=Object(h["useState"])(!0),c=s()(t,2),r=c[0],n=c[1],i=Object(h["useState"])({}),o=s()(i,2),l=o[0],p=o[1];function d(t){n(!0),a({type:e,payload:t}).then(e=>{p(e.data),n(!1)})}return{data:l,loading:r,getData:d}}function x(e){var a=e.payload,t=e.pageSize,c=void 0===t?10:t,r=e.type,n=P(r),i=n.loading,l=n.data,p=n.getData,d=Object(O["a"])({current:1,searchParams:{}}),m=s()(d,2),u=m[0],y=m[1];function h(e){p(o()({},a,u.searchParams,{size:c,page:e})),y({current:e})}function f(){p(o()({},a,u.searchParams,{size:c,page:u.current}))}function g(e){p(o()({},a,u.searchParams,{size:c,page:1})),y({searchParams:e,current:1})}return Object(w["a"])(()=>{p(o()({},a,u.searchParams,{size:c,page:u.current}))}),{loading:i,dataSource:l.list,bordered:!0,fresh:f,search:g,pagination:{current:u.current,defaultCurrent:u.current,showTotal:e=>"\u5171".concat(e,"\u6761\u8bb0\u5f55"),pageSize:c,total:l.total,onChange:h}}}var z=t("VS1T"),S=t("sy1d"),k=y["a"].Text,C=y["a"].Paragraph,T=y["a"].Title;function _(e){var a=e.type,t={get:"blue",post:"green",delete:"red",patch:"purple",put:"cyan"};return f.a.createElement(u["a"],{color:t[a]},a)}var D=e=>{var a=e.match,t=a.params.project_id,c=Object(g["d"])(),i=x({type:"project/getApiPage",payload:{project_id:t},pageSize:5}),p=i.fresh,d=(i.search,m()(i,["fresh","search"])),u=Object(h["useState"])({}),y=s()(u,2),j=y[0],b=y[1],O=[{title:"\u540d\u79f0",dataIndex:"name",width:"25%"},{title:"\u5730\u5740",dataIndex:"url",width:"25%"},{title:"\u65b9\u6cd5",dataIndex:"type",render:e=>f.a.createElement(_,{type:e}),width:"10%"},{title:"\u64cd\u4f5c",render:(e,a)=>f.a.createElement("div",{className:"table-opr-wrap"},f.a.createElement(l["a"],{type:"primary",size:"small",onClick:()=>{N(a.id)}},"\u7f16\u8f91"),f.a.createElement(l["a"],{type:"primary",size:"small",onClick:()=>{I(a.id)}},"\u514b\u9686"),f.a.createElement(l["a"],{type:"primary",size:"small",onClick:()=>{P(a.url)}},"\u590d\u5236\u63a5\u53e3\u5730\u5740"),f.a.createElement(l["a"],{type:"danger",size:"small",onClick:()=>{A(a.id)}},"\u5220\u9664"))}];function P(e){v()("".concat(window.location.hostname,":").concat(S["c"],"/mock/").concat(j.prefix).concat(e)),n["a"].success("\u63a5\u53e3\u590d\u5236\u6210\u529f")}function D(){E.a.push("/project/".concat(t,"/create"))}function N(e){E.a.push("/project/".concat(t,"/update/").concat(e))}function A(e){c({type:"project/deleteApi",payload:{project_id:t,api_id:e}}).then(()=>{n["a"].success("\u5220\u9664\u6210\u529f"),p()})}function I(e){c({type:"project/cloneApi",payload:{project_id:t,api_id:e}}).then(()=>{n["a"].success("\u590d\u5236\u6210\u529f")})}function K(){var e=Object(z["d"])({project_id:t}),a=document.getElementById("temp-download-iframe");if(a)a.src=e;else{var c=document.createElement("iframe");c.src=e,c.id="temp-download-iframe",document.getElementsByTagName("head")[0].appendChild(c)}}return Object(w["a"])(()=>{c({type:"index/getProjectDetail",payload:{id:t}}).then(e=>{b(o()({},e.data,{prefix:"".concat(t).concat(e.data.prefix)}))})}),f.a.createElement("div",{className:"wrapper"},f.a.createElement(T,{style:{marginTop:20}},j.title),f.a.createElement(C,null,"\u63a5\u53e3\u524d\u7f00\uff1a",f.a.createElement(k,{copyable:!0},"http://".concat(window.location.hostname,":").concat(S["c"],"/mock/").concat(j.prefix))),f.a.createElement(C,null,"\u9879\u76eeid\uff1a",t),f.a.createElement("div",{className:"table-filter"},f.a.createElement(l["a"],{type:"primary",onClick:D},"\u6dfb\u52a0\u63a5\u53e3"),f.a.createElement(l["a"],{type:"primary",onClick:K},"\u5bfc\u51fa\u63a5\u53e3")),f.a.createElement(r["a"],Object.assign({columns:O,rowKey:"id"},d)))};a["default"]=c["a"].create()(D)}}]);